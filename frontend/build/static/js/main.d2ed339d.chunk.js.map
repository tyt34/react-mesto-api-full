{"version":3,"sources":["reportWebVitals.js","images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/ImagePopup.js","utils/api.js","images/logo.png","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","components/Footer.js","components/Login.js","components/Register.js","images/enter_on.svg","images/enter_off.svg","components/InfoTooltip.js","utils/Auth.js","components/ProtectedRoute.js","components/MegaRouter.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Header","props","ShowEm","prop","email","className","onClick","onSignOut","src","logo","alt","href","link","title","CurrentUserContext","React","createContext","Card","specialWord","currenUser","useContext","isOwn","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","img","onCardClick","name","onCardDelete","type","onCardLike","length","Main","currentUser","avatar","onEditAvatar","id","onEditProfile","about","onAddPlace","cards","map","card","owner","ImagePopup","onClose","api","this","_me","_ava","_cards","_likes","_url","console","log","res","ok","json","Promise","reject","status","fetch","headers","authorization","localStorage","jwt","_getResponseData","method","body","JSON","stringify","obj","data","PopupWithForm","isOpen","textTitle","onSubmit","children","textButton","EditProfilePopup","useState","setName","setAbout","useEffect","e","preventDefault","onUpdateUser","value","onChange","target","placeholder","required","minLength","maxLength","EditAvatarPopup","avatarRef","useRef","onUpdateAvarar","current","ref","AddPlacePopup","place","setPlace","linkPlace","setLinkPlace","onAddNewPlace","App","profileImg","setCurrentUser","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditProfilePopupOpen","setEditProfilePopupOpen","setCards","selectedCard","setSelectedCard","closeAllPopups","closeByEscape","key","document","addEventListener","removeEventListener","all","getCardsFromServer","getUserInfo","initialCards","userData","catch","err","Provider","changeLikeCardStatus","newCard","c","delCard","newArrCards","filter","changeAvatar","loadProfile","loadNewCard","Footer","Date","getFullYear","Login","login","setLogin","pass","setPass","action","onLoginClick","identifier","password","Register","onRegClick","InfoTooltip","BASE_URL","on","off","ProtectedRoute","Component","component","loggedIn","to","getResponseData","MegaRouter","setLoggedIn","isInfoOpen","setisInfoOpen","isTitle","setIsTitle","isAlt","setIsAlt","isRes","setIsRes","isEmail","setIsEmail","history","useHistory","getItem","token","push","tokenCheck","path","auth","setItem","removeItem","ReactDOM","render","StrictMode","getElementById"],"mappings":"gKAYeA,G,MAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,Q,cCPC,MAA0B,iC,OC2B1BQ,MAxBf,SAAgBC,GAEd,SAASC,EAAOC,GACd,OAAIA,EAAKC,MAEL,qCACA,mBAAGC,UAAU,gBAAb,SAA8BJ,EAAMG,QACpC,wBAAQC,UAAU,gBAAgBC,QAASL,EAAMM,UAAjD,+CAIK,yCAIX,OACI,yBAAQF,UAAU,SAAlB,UACE,qBAAKA,UAAU,eAAeG,IAAKC,EAAMC,IAAI,8EAC7C,mBAAGL,UAAU,gBAAgBM,KAAMV,EAAMW,KAAzC,SAAgDX,EAAMY,QACtD,cAACX,EAAD,CAAQE,MAAOH,EAAMG,Y,QClBdU,EAFYC,IAAMC,gBC2DlBC,MA1Df,SAAchB,GAEZ,IAEsBiB,EAFhBC,EAAaJ,IAAMK,WAAWN,GAiB9BO,EAAQpB,EAAMoB,QAAUF,EAAWG,IACnCC,EAAyB,UAAMF,EAAQ,aAAe,WAEtDG,EAAUvB,EAAMwB,MAAMC,MAAK,SAACC,GAChC,OAAOA,IAAMR,EAAWG,OAGpBM,EAAuB,UAC3BJ,EAAU,yBAA2B,eAGvC,OACE,0BAASnB,UAAU,QAAnB,UACE,qBACEA,UAAU,aACVG,IAAKP,EAAM4B,IACXvB,QA3BN,WACEL,EAAM6B,YAAY7B,IA2BdS,KAhCgBQ,EAgCEjB,EAAM8B,KA/BrB,uGAAyBb,EAAc,OAiC5C,wBACEZ,QAvBN,WACEL,EAAM+B,aAAa/B,IAuBfI,UAAWkB,EACXU,KAAK,WAEP,sBAAK5B,UAAU,gBAAf,UACE,oBAAIA,UAAU,eAAd,SAA8BJ,EAAM8B,OACpC,sBAAK1B,UAAU,wBAAf,UACE,wBACEC,QAnCV,WACEL,EAAMiC,WAAWjC,IAmCTI,UAAWuB,EACXK,KAAK,WAEP,mBAAG5B,UAAU,aAAb,SAA2BJ,EAAMwB,MAAMU,mBCclCC,MAhEf,SAAcnC,GACZ,IAAMoC,EAActB,IAAMK,WAAWN,GAErC,OACI,iCACE,0BAAST,UAAU,UAAnB,UACE,sBAAKA,UAAU,qBAAf,UACE,qBAAKA,UAAU,eAAeK,IAAI,gHAAsBF,IAAK6B,EAAYC,SACzE,qBACEhC,QAASL,EAAMsC,aACflC,UAAU,mBAFZ,SAIE,wBACEA,UAAU,gBACV4B,KAAK,gBAKX,sBAAK5B,UAAU,eAAf,UACE,sBAAKA,UAAU,sBAAf,UACE,sBAAKA,UAAU,qBAAf,UACE,oBAAImC,GAAG,UAAUnC,UAAU,sBAA3B,SACGgC,EAAYN,OAEf,wBACE1B,UAAU,qBACV4B,KAAK,SACL3B,QAASL,EAAMwC,mBAGnB,mBAAGD,GAAG,UAAUnC,UAAU,yBAA1B,SACGgC,EAAYK,WAGjB,wBACErC,UAAU,oBACV4B,KAAK,SACL3B,QAASL,EAAM0C,mBAKrB,yBAAStC,UAAU,SAAnB,SAEIJ,EAAM2C,MAAMC,KAAK,SAACC,GAAD,OACf,cAAC,EAAD,CACEf,KAAMe,EAAKf,KACXF,IAAKiB,EAAKlC,KACVa,MAAOqB,EAAKrB,MAEZe,GAAIM,EAAKxB,IACTQ,YAAa7B,EAAM6B,YACnBT,MAAOyB,EAAKC,MACZb,WAAYjC,EAAMiC,WAClBF,aAAc/B,EAAM+B,cALfc,EAAKxB,cCpCX0B,MAhBf,YAAsC,IACd9B,EADH4B,EAAgB,EAAhBA,KAAMG,EAAU,EAAVA,QAKzB,OACE,qBAAKT,GAAG,YAAYnC,UAAYyC,EAAKf,KAAO,6BAA+B,kBAA3E,SACE,sBAAK1B,UAAU,uBAAf,UACE,qBAAKA,UAAU,iBAAiBK,KAPhBQ,EAOkC4B,EAAKf,KANpD,uGAAuBb,EAAY,KAMwBV,IAAKsC,EAAKjB,MACxE,mBAAGxB,UAAU,mBAAb,SAAiCyC,EAAKf,OACtC,wBAAQS,GAAG,mBAAmBnC,UAAU,eAAeC,QAAS2C,U,gBC4GzDC,EADH,I,WAtHV,aAAe,oBACbC,KAAKC,IAAM,YACXD,KAAKE,KAAM,mBACXF,KAAKG,OAAS,SACdH,KAAKI,OAAS,SAEZJ,KAAKK,KAAO,wBAIdC,QAAQC,IAAI,OAAQP,KAAKK,M,oDAG3B,SAAiBG,GACf,OAAKA,EAAIC,GAGFD,EAAIE,OAFFC,QAAQC,OAAR,gDAA0BJ,EAAIK,W,yBAKzC,WAAe,IAAD,OACZ,OAAOC,MAAMd,KAAKK,KAAKL,KAAKC,IAAK,CAC/Bc,QAAS,CACPC,cAAe,UAAUC,aAAaC,OAGzC3E,MACC,SAACiE,GACC,OAAO,EAAKW,iBAAiBX,Q,gCAKnC,WAAsB,IAAD,OACnB,OAAOM,MAAMd,KAAKK,KAAKL,KAAKG,OAAQ,CAChCY,QAAS,CACPC,cAAe,UAAUC,aAAaC,OAG3C3E,MAAK,SAACiE,GACH,OAAO,EAAKW,iBAAiBX,Q,0BAInC,SAAa/C,GAAO,IAAD,OACjB,OAAOqD,MAAMd,KAAKK,KAAKL,KAAKE,KAAM,CAChCkB,OAAQ,QACRL,QAAS,CACPC,cAAe,UAAUC,aAAaC,IACtC,eAAgB,oBAElBG,KAAMC,KAAKC,UAAU,CACnBpC,OAAQ1B,EAAKA,SAGhBlB,MAAK,SAACiE,GAAD,OAAS,EAAKW,iBAAiBX,Q,yBAGvC,SAAYgB,GAAM,IAAD,OACf,OAAOV,MAAMd,KAAKK,KAAKL,KAAKC,IAAK,CAC/BmB,OAAQ,QACRL,QAAS,CACPC,cAAe,UAAUC,aAAaC,IACtC,eAAgB,oBAElBG,KAAMC,KAAKC,UAAU,CACnB3C,KAAM4C,EAAI5C,KACVW,MAAOiC,EAAIjC,UAEZhD,MACD,SAACiE,GAAD,OAAS,EAAKW,iBAAiBX,Q,yBAInC,SAAYgB,GAAM,IAAD,OACf,OAAOV,MAAMd,KAAKK,KAAKL,KAAKG,OAAQ,CAClCiB,OAAQ,OACRL,QAAS,CACPC,cAAe,UAAUC,aAAaC,IACtC,eAAgB,oBAElBG,KAAMC,KAAKC,UAAU,CACnB3C,KAAM4C,EAAI5C,KACVnB,KAAM+D,EAAI/D,SAEXlB,MACD,SAACiE,GAAD,OAAS,EAAKW,iBAAiBX,Q,qBAInC,SAAQnB,GAAK,IAAD,OACV,OAAOyB,MAAMd,KAAKK,KAAKL,KAAKG,OAAO,IAAId,EAAI,CACzC+B,OAAQ,SACRL,QAAS,CACLC,cAAe,UAAUC,aAAaC,OAEvC3E,MACD,SAACiE,GAAD,OAAS,EAAKW,iBAAiBX,Q,kCAIrC,SAAqBnB,EAAI+B,GAAS,IAAD,OAC/B,OAAON,MAAMd,KAAKK,KAAKL,KAAKG,OAAO,IAAId,EAAGW,KAAKI,OAAQ,CACrDgB,OAAQA,EACRL,QAAS,CACPC,cAAe,UAAUC,aAAaC,OAGzC3E,MACC,SAACiE,GAAD,OAAS,EAAKW,iBAAiBX,MAGhCjE,MAAM,SAACiE,GACN,OAAOA,EAAIiB,Y,MClHF,MAA0B,iCCmC1BC,MAjCf,SAAuB5E,GACrB,OACE,qBACEuC,GAAE,gBAAWvC,EAAM8B,MACnB1B,UAAWJ,EAAM6E,OAAS,mBAAqB,QAFjD,SAIE,sBAAKzE,UAAS,gBAAWJ,EAAM8B,KAAjB,gCAAd,UACE,wBACES,GAAE,gBAAWvC,EAAM8B,KAAjB,WACFzB,QAASL,EAAMgD,QACf5C,UAAU,eACV4B,KAAK,WAEP,mBAAG5B,UAAS,gBAAWJ,EAAM8B,KAAjB,WAAZ,mBAAgD9B,EAAM8E,aACtD,uBACEC,SAAU/E,EAAM+E,SAChBjD,KAAI,UAAK9B,EAAM8B,MACf1B,UAAS,gBAAWJ,EAAM8B,KAAjB,sBAHX,UAKG9B,EAAMgF,SACP,wBACEzC,GAAE,gBAAWvC,EAAM8B,KAAjB,UACF1B,UAAS,cACT4B,KAAK,SAHP,mBAKMhC,EAAMiF,uBC0CPC,MAjEf,SAA0BlF,GACxB,IAAMkB,EAAaJ,IAAMK,WAAWN,GACpC,EAAwBC,IAAMqE,SAASjE,EAAWY,MAAlD,mBAAOA,EAAP,KAAasD,EAAb,KACA,EAA0BtE,IAAMqE,SAASjE,EAAWuB,OAApD,mBAAOA,EAAP,KAAc4C,EAAd,KAuBA,OArBAvE,IAAMwE,WAAW,WACfF,EAAQlE,EAAWY,MACnBuD,EAASnE,EAAWuB,SACnB,CAACvB,EAAYlB,EAAM6E,SAmBpB,eAAC,EAAD,CACE/C,KAAM,OACNgD,UAAS,4HACTG,WAAU,yDACVjC,QAAShD,EAAMgD,QACf6B,OAAQ7E,EAAM6E,OACdE,SAfJ,SAAsBQ,GACpBA,EAAEC,iBACFxF,EAAMyF,aAAa,CACjB3D,OACAW,WAKF,UAQE,uBACEiD,MAAO5D,EACP6D,SA3BN,SAA0BJ,GACxBH,EAAQG,EAAEK,OAAOF,QA2BbnD,GAAG,sBACHnC,UAAU,eACV0B,KAAK,OACLE,KAAK,OACL6D,YAAY,qBACZC,UAAQ,EACRC,UAAU,IACVC,UAAU,OAEZ,sBAAMzD,GAAG,4BAA4BnC,UAAU,iBAC/C,uBACEsF,MAAOjD,EACPkD,SApCN,SAA2BJ,GACzBF,EAASE,EAAEK,OAAOF,QAoCdnD,GAAG,yBACHnC,UAAU,eACV0B,KAAK,QACLE,KAAK,OACL6D,YAAY,kCACZC,UAAQ,EACRC,UAAU,IACVC,UAAU,QAEZ,sBAAMzD,GAAG,+BAA+BnC,UAAU,qBC5BzC6F,MAjCf,SAAyBjG,GACvB,IAAMkG,EAAYpF,IAAMqF,SASxB,OACE,eAAC,EAAD,CACEpB,SATJ,SAAsBQ,GACpBA,EAAEC,iBACFxF,EAAMoG,eAAe,CACnBzF,KAAMuF,EAAUG,QAAQX,SAOxB5D,KAAM,SACN+C,OAAS7E,EAAM6E,OACfC,UAAS,wFACTG,WAAU,yDACVjC,QAAUhD,EAAMgD,QANlB,UAQE,uBACEsD,IAAKJ,EACL3D,GAAG,oBACHnC,UAAU,eACV0B,KAAK,OACLE,KAAK,MACL6D,YAAY,qGACZC,UAAQ,IAEV,sBAAMvD,GAAG,0BAA0BnC,UAAU,qBC+BpCmG,MA3Df,SAAuBvG,GACrB,MAA0Bc,IAAMqE,SAAS,IAAzC,mBAAOqB,EAAP,KAAcC,EAAd,KACA,EAAkC3F,IAAMqE,SAAS,IAAjD,mBAAOuB,EAAP,KAAkBC,EAAlB,KAoBA,OACE,eAAC,EAAD,CACE5B,SApBJ,SAAsBQ,GACpBA,EAAEC,iBACFxF,EAAM4G,cAAc,CAClBJ,QACAE,cAEFD,EAAS,IACTE,EAAa,KAcX7E,KAAM,MACN+C,OAAQ7E,EAAM6E,OACdC,UAAS,gEACTG,WAAU,6CACVjC,QAAShD,EAAMgD,QANjB,UAQE,uBACE0C,MAAOc,EACPb,SAnBN,SAA2BJ,GACzBkB,EAASlB,EAAEK,OAAOF,QAmBdnD,GAAG,kBACHnC,UAAU,eACV0B,KAAK,OACLE,KAAK,OACL6D,YAAY,mDACZE,UAAU,IACVC,UAAU,KACVF,UAAQ,IAEV,sBAAMvD,GAAG,wBAAwBnC,UAAU,iBAC3C,uBACEsF,MAAOgB,EACPf,SA5BN,SAA+BJ,GAC7BoB,EAAapB,EAAEK,OAAOF,QA4BlBnD,GAAG,iBACHnC,UAAU,eACV0B,KAAK,OACLE,KAAK,MACL6D,YAAY,qGACZC,UAAQ,IAEV,sBAAMvD,GAAG,uBAAuBnC,UAAU,qBCsIjCyG,MAnLf,WACE,MAAsC/F,IAAMqE,SAAS,CACnDrD,KAAM,sDACNW,MAAO,sDACPJ,OAAQyE,IAHV,mBAAO1E,EAAP,KAAoB2E,EAApB,KAMA,EAAwDjG,IAAMqE,UAAS,GAAvE,mBAAO6B,EAAP,KAA8BC,EAA9B,KACA,EAAoDnG,IAAMqE,UAAS,GAAnE,mBAAO+B,EAAP,KAA4BC,EAA5B,KACA,EAA0DrG,IAAMqE,UAAS,GAAzE,mBAAOiC,EAAP,KAA+BC,EAA/B,KAEA,EAA0BvG,IAAMqE,SAAS,IAAzC,mBAAOxC,EAAP,KAAc2E,EAAd,KAEA,EAAwCxG,IAAMqE,SAAS,CACrDrD,KAAM,GACNF,IAAM,KAFR,mBAAO2F,EAAP,KAAqBC,EAArB,KAoFA,SAASC,IACPR,GAAuB,GACvBI,GAAwB,GACxBF,GAAqB,GAErBK,EAAgB,CACd1F,KAAM,GACNF,IAAK,KAwCT,OA9HAd,IAAMwE,WAAU,WACZ,IAAMoC,EAAgB,SAACnC,GACP,WAAVA,EAAEoC,KACJF,KAMJ,OAFAG,SAASC,iBAAiB,UAAWH,GAE9B,kBAAME,SAASE,oBAAoB,UAAWJ,MACtD,IAEH5G,IAAMwE,WAAW,WACfzB,QAAQkE,IAAI,CACV9E,EAAI+E,qBACJ/E,EAAIgF,gBAELxI,MAAM,YAA+B,IAAD,mBAA5ByI,EAA4B,KAAdC,EAAc,KACnCb,EAASY,EAAavD,MACtBoC,EAAeoB,EAASxD,SAEzByD,OACC,SAACC,GACC7E,QAAQC,IAAI,+CAAkB4E,QAGjC,IAqGD,eAAC,EAAmBC,SAApB,CAA6B5C,MAAOtD,EAApC,UACE,cAAC,EAAD,CACEO,MAAOA,EACPL,aAtEN,WACE2E,GAAuB,IAsEnBzE,cAnEN,WACE6E,GAAwB,IAmEpB3E,WAhEN,WACEyE,GAAqB,IAgEjBtF,YA7DN,SAAyB7B,GACvBwH,EAAgB,CACd1F,KAAM9B,EAAM8B,KACZF,IAAK5B,EAAM4B,OA2DTK,WA1GN,SAA+BY,GAC7B,IAGIyB,EAEFA,EALczB,EAAKrB,MAAMC,MAAM,SAACC,GAChC,OAAOA,IAAMU,EAAYf,OAIhB,SAEA,MAEX4B,EAAIsF,qBAAqB1F,EAAKN,GAAI+B,GAAQ7E,MAAM,SAAC+I,GAC/ClB,GAAU,SAAC3E,GAAD,OAAWA,EAAMC,KAAK,SAAC6F,GAAD,OAAOA,EAAEpH,MAAQwB,EAAKN,GAAKiG,EAAUC,WACpEL,OACD,SAACC,GACC7E,QAAQC,IAAI,+CAAkB4E,OA6F9BtG,aAxFN,SAA0Bc,GACxBI,EAAIyF,QAAQ7F,EAAKN,IAAI9C,MAAM,SAAC+I,GAC1B,IAAMG,EAAchG,EAAMiG,QAAQ,SAAAH,GAChC,OAAOA,EAAEpH,MAAQwB,EAAKN,MAExB+E,EAASqB,MACRP,OACD,SAACC,GACC7E,QAAQC,IAAI,+CAAkB4E,SAmFhC,cAAC,EAAD,CACEjC,eAxBN,SAA4Bb,GAC1BtC,EAAI4F,aAAatD,GAAG9F,MAAM,SAACiE,GACzBqD,EAAerD,GACf+D,OACCW,OACD,SAACC,GACC7E,QAAQC,IAAI,+CAAkB4E,OAmB9BxD,OAAQmC,EACRhE,QAASyE,IAGX,cAAC,EAAD,CACEhC,aAzCN,SAA2BF,GACzBtC,EAAI6F,YAAYvD,GAAG9F,MAAM,SAACiE,GACxBqD,EAAerD,GACf+D,OACCW,OACD,SAACC,GACC7E,QAAQC,IAAI,+CAAkB4E,OAoC9BxD,OAAQuC,EACRpE,QAASyE,IAGX,cAAC,EAAD,CACEb,cA7DN,SAA8BrB,GAC5BtC,EAAI8F,YAAY,CACdjH,KAAMyD,EAAEiB,MACR7F,KAAM4E,EAAEmB,YACPjH,MAAM,SAACiE,GACR4D,EAAS,CAAE5D,EAAIiB,MAAP,mBAAgBhC,KACxB8E,OACCW,OACD,SAACC,GACC7E,QAAQC,IAAI,+CAAkB4E,OAqD9BxD,OAAQqC,EACRlE,QAASyE,IAGX,cAAC,EAAD,CAAY5E,KAAM0E,EAAcvE,QAASyE,QClLhCuB,MARf,WACE,OACI,wBAAQ5I,UAAU,SAAlB,SACE,oBAAGA,UAAU,gBAAb,mBAAgC,IAAI6I,MAAOC,cAA3C,sBC0DOC,MA3Df,SAAenJ,GACb,MAA0Bc,IAAMqE,SAAS,IAAzC,mBAAOiE,EAAP,KAAcC,EAAd,KACA,EAAwBvI,IAAMqE,SAAS,IAAvC,mBAAOmE,EAAP,KAAaC,EAAb,KAkBA,OACE,sBAAKnJ,UAAU,mBAAf,UACE,oBAAIA,UAAU,eAAd,sCACA,uBACEA,UAAU,cACVoJ,OAAO,aACPlF,OAAO,OACPxC,KAAK,QACLiD,SAhBN,SAA0BQ,GACxBA,EAAEC,iBACFxF,EAAMyJ,aAAa,CACjBC,WAAYN,EACZO,SAAUL,KAOV,UAOE,uBACE5D,MAAO0D,EACPzD,SA5BR,SAA2BJ,GACzB8D,EAAS9D,EAAEK,OAAOF,QA4BZtF,UAAU,eACV0B,KAAK,OACLE,KAAK,OACL6D,YAAY,QACZC,UAAQ,IAEV,uBACEJ,MAAO4D,EACP3D,SAjCR,SAA0BJ,GACxBgE,EAAQhE,EAAEK,OAAOF,QAiCXtF,UAAU,eACV0B,KAAK,QACLE,KAAK,WACL6D,YAAY,uCACZC,UAAQ,IAEV,wBACE1F,UAAU,cACV4B,KAAK,SAFP,mDCsBO4H,MAtEf,SAAkB5J,GAChB,MAA0Bc,IAAMqE,SAAS,IAAzC,mBAAOiE,EAAP,KAAcC,EAAd,KACA,EAAwBvI,IAAMqE,SAAS,IAAvC,mBAAOmE,EAAP,KAAaC,EAAb,KAmBA,OACE,sBAAKnJ,UAAU,mBAAf,UAEE,oBAAIA,UAAU,eAAd,gFACA,uBACEA,UAAU,cACVoJ,OAAO,aACPlF,OAAO,OACPxC,KAAK,MACLiD,SA1BN,SAAwBQ,GACtBA,EAAEC,iBACFxF,EAAM6J,WAAW,CACfH,WAAYN,EACZO,SAAUL,KAiBV,UAOE,uBACE5D,MAAO0D,EACPzD,SAtBR,SAA2BJ,GACzB8D,EAAS9D,EAAEK,OAAOF,QAsBZtF,UAAU,eACV0B,KAAK,OACLE,KAAK,OACL6D,YAAY,QACZC,UAAQ,IAEV,uBACEJ,MAAO4D,EACP3D,SA3BR,SAA0BJ,GACxBgE,EAAQhE,EAAEK,OAAOF,QA2BXtF,UAAU,eACV0B,KAAK,QACLE,KAAK,WACL6D,YAAY,uCACZC,UAAQ,IAEV,wBACE1F,UAAU,cACV4B,KAAK,SAFP,6HAOF,sBAAK5B,UAAU,eAAf,UACE,oBAAIA,UAAU,kBAAd,kIAGA,mBAAGA,UAAU,cAAcM,KAAK,WAAhC,mDC/DO,MAA0B,qCCA1B,MAA0B,sCCuB1BoJ,ICvBJC,EDuBID,EAnBf,SAAqB9J,GAEnB,OACE,qBACEI,UAAWJ,EAAM6E,OAAS,mBAAqB,QADjD,SAGE,sBAAKzE,UAAU,mBAAf,UACE,wBACEA,UAAU,eACV4B,KAAK,SACL3B,QAASL,EAAMgD,UAEjB,qBAAK5C,UAAU,aAAaG,IAAKP,EAAM0D,IAAMsG,EAAKC,EAAKxJ,IAAKT,EAAMS,MAClE,mBAAGL,UAAU,kBAAb,SAAgCJ,EAAMY,c,QEE/BsJ,EAhBQ,SAACvF,GACtB,IAAMwF,EAAY,WAChB,OACExF,EAAKyF,UAAUpK,MAAMgF,UAIzB,OACE,cAAC,IAAD,UAEI,kBAAwB,IAAlBL,EAAK0F,SAAoB,cAACF,EAAD,eAAexF,IAAW,cAAC,IAAD,CAAU2F,GAAG,iBDX5EP,EAAW,wBAIbvG,QAAQC,IAAI,OAAQsG,GAEb,IAAMQ,EAAkB,SAAC7G,GAC9B,OAAKA,EAAIC,GAGFD,EAAIE,OAFFC,QAAQC,OAAR,qDAA+BJ,EAAIK,UE+G/ByG,MA7Gf,WACE,MAAgC1J,IAAMqE,UAAS,GAA/C,mBAAOkF,EAAP,KAAiBI,EAAjB,KACA,EAAoC3J,IAAMqE,UAAS,GAAnD,mBAAOuF,EAAP,KAAmBC,EAAnB,KACA,EAA8B7J,IAAMqE,SAAS,IAA7C,mBAAOyF,EAAP,KAAgBC,EAAhB,KACA,EAA0B/J,IAAMqE,SAAS,4NAAzC,mBAAO2F,EAAP,KAAcC,EAAd,KACA,EAA0BjK,IAAMqE,UAAS,GAAzC,mBAAO6F,EAAP,KAAcC,EAAd,KACA,EAA8BnK,IAAMqE,SAAS,IAA7C,mBAAO+F,EAAP,KAAgBC,EAAhB,KAEMC,EAAUC,cA6DhB,OApCAvK,IAAMwE,WAAU,YAIhB,WACE,IAAMlB,EAAMD,aAAamH,QAAQ,OAE7BlH,IFLmBmH,EEMLnH,EFLbJ,MAAM,GAAD,OAAI+F,EAAJ,aAAyB,CACnCzF,OAAQ,MACRL,QAAS,CACP,OAAU,mBACV,eAAgB,mBAChB,cAAgB,UAAhB,OAA2BsH,MAG9B9L,MAAK,SAACiE,GAAD,OAAS6G,EAAgB7G,OEFxBjE,MAAM,SAACiE,GACFA,EAAIvD,QACNsK,GAAY,GACZW,EAAQI,KAAK,SAGhBpD,OAAO,SAAAC,GAAG,OAAI7E,QAAQC,IAAI,8CAAiB4E,MFb1B,IAACkD,EEDvBE,KACC,IAmCD,qBAAKrL,UAAU,OAAf,SACE,eAAC,IAAD,WACE,eAAC,IAAD,CAAOsL,KAAK,WAAZ,UACI,cAAC,EAAD,CAAQ9K,MAAM,qEAAcD,KAAK,aACjC,cAAC,EAAD,CAAO8I,aAtDjB,SAA0B9E,IFjBH,SAACA,GACxB,OAAOX,MAAM,GAAD,OAAI+F,EAAJ,WAAuB,CACjCzF,OAAQ,OACRL,QAAS,CACP,OAAU,mBACV,eAAgB,oBAElBM,KAAMC,KAAKC,UAAU,CACnBkF,SAAUhF,EAAKgF,SACfxJ,MAAOwE,EAAK+E,eAGfjK,MAAK,SAACiE,GACL,OAAO6G,EAAgB7G,OEKvBiI,CAAehH,GACZlF,MAAK,SAACiF,GACDA,EAAI6G,QACNJ,EAAWxG,EAAK+E,YAChBvF,aAAayH,QAAQ,MAAOlH,EAAI6G,OAChCd,GAAY,GACZW,EAAQI,KAAK,SAGhBpD,OAAO,SAAAC,GAAG,OAAI7E,QAAQC,IAAI,8CAAiB4E,YA8C1C,eAAC,IAAD,CAAOqD,KAAK,WAAZ,UACI,cAAC,EAAD,CAAQ9K,MAAM,iCAAQD,KAAK,aAC3B,cAAC,EAAD,CAAUkJ,WA1BpB,SAAwBlF,IFhCN,SAACA,GACnB,OAAOX,MAAM,GAAD,OAAI+F,EAAJ,WAAuB,CACjCzF,OAAQ,OACRL,QAAS,CACP,OAAU,mBACV,eAAgB,oBAElBM,KAAMC,KAAKC,UAAU,CACnB,SAAYE,EAAKgF,SACjB,MAAShF,EAAK+E,eAGjBjK,MAAK,SAACiE,GAAD,OAAS6G,EAAgB7G,OEqB7BiI,CAAUhH,GACPlF,MAAK,SAAAiF,GACJuG,GAAS,GACTJ,EAAW,yKACXE,EAAS,kOACTJ,GAAc,MAEfvC,OAAO,SAAAC,GACN4C,GAAS,GACTJ,EAAW,uMACXE,EAAS,4NACTJ,GAAc,GACdnH,QAAQC,IAAI,8CAAiB4E,SAczB,cAAC,EAAD,CACExD,OAAQ6F,EACR9J,MAAOgK,EACPnK,IAAKqK,EACLpH,IAAKsH,EACLhI,QA1EZ,WACE2H,GAAc,SA4EV,cAAC,EAAD,CACEe,KAAK,IACLrB,SAAUA,EACVD,UACE,qCACE,cAAC,EAAD,CACEjK,MAAO+K,EACP5K,UAhFI,WAChB6D,aAAa0H,WAAW,OACxBpB,GAAY,GACZW,EAAQI,KAAK,aA+EH,cAAC,EAAD,IACA,cAAC,EAAD,SAIN,cAAC,IAAD,UACGnB,EAAW,cAAC,IAAD,CAAUC,GAAG,MAAS,cAAC,IAAD,CAAUA,GAAG,qB,OC3GzDwB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,qBAAK5L,UAAU,OAAf,SACE,cAAC,EAAD,UAINwH,SAASqE,eAAe,SAG1B3M,M","file":"static/js/main.d2ed339d.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export default __webpack_public_path__ + \"static/media/logo.abb64ac9.svg\";","import logo from '../images/logo.svg'\n//import logo from '../images/logo.png'\n\nfunction Header(props) {\n\n  function ShowEm(prop) {\n    if (prop.email) {\n      return (\n        <>\n        <p className=\"header__email\">{props.email}</p>\n        <button className=\"header__close\" onClick={props.onSignOut}>Выйти</button>\n        </>\n      )\n    } else {\n      return <> </>\n    }\n  }\n\n  return (\n      <header className=\"header\">\n        <img className=\"header__logo\" src={logo} alt=\"Логотип сайта\" />\n        <a className=\"header__title\" href={props.link}>{props.title}</a>\n        <ShowEm email={props.email}/>\n      </header>\n  )\n}\n\nexport default Header;\n","import React from 'react'\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext\n","import React from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n\n  const currenUser = React.useContext(CurrentUserContext);\n\n  function createAltImg(specialWord) {\n    return 'Изображение места: \"' + specialWord + '\"';\n  }\n\n  function handleClick() {\n    props.onCardClick(props);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props)\n  }\n  const isOwn = props.isOwn === currenUser._id;\n  const cardDeleteButtonClassName = `${isOwn ? \"place__del\" : \"nothing\"}`;\n\n  const isLiked = props.likes.some((i) => {\n    return i === currenUser._id\n  });\n\n  const cardLikeButtonClassName = `${\n    isLiked ? \"place__like place-like\" : \"place__like\"\n  }`;\n\n  return (\n    <article className=\"place\">\n      <img\n        className=\"place__img\"\n        src={props.img}\n        onClick={handleClick}\n        alt={createAltImg(props.name)}\n      />\n      <button\n        onClick={handleDeleteClick}\n        className={cardDeleteButtonClassName}\n        type=\"button\"\n      ></button>\n      <div className=\"place__option\">\n        <h2 className=\"place__title\">{props.name}</h2>\n        <div className=\"place__like-container\">\n          <button\n            onClick={handleLikeClick}\n            className={cardLikeButtonClassName}\n            type=\"button\"\n          ></button>\n          <p className=\"place__num\">{props.likes.length}</p>\n        </div>\n      </div>\n    </article>\n  );\n}\n\nexport default Card;\n","import React from 'react'\nimport Card from './Card'\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext)\n\n  return (\n      <main>\n        <section className=\"profile\">\n          <div className=\"profile__container\">\n            <img className=\"profile__img\" alt=\"Изображение профиля\" src={currentUser.avatar} />\n            <div\n              onClick={props.onEditAvatar}\n              className=\"profile__overlay\"\n            >\n              <button\n                className=\"profile__edit\"\n                type=\"button\"\n              >\n              </button>\n            </div>\n          </div>\n          <div className=\"profile-char\">\n            <div className=\"profile-char__discr\">\n              <div className=\"profile-char__info\">\n                <h1 id=\"text-up\" className=\"profile-char__title\">\n                  {currentUser.name}\n                </h1>\n                <button\n                  className=\"profile-char__edit\"\n                  type=\"button\"\n                  onClick={props.onEditProfile}>\n                </button>\n              </div>\n              <p id=\"text-dw\" className=\"profile-char__subtitle\">\n                {currentUser.about}\n              </p>\n            </div>\n            <button\n              className=\"profile-char__add\"\n              type=\"button\"\n              onClick={props.onAddPlace}>\n            </button>\n          </div>\n        </section>\n\n        <section className=\"places\">\n          {\n            props.cards.map( (card) => (\n              <Card\n                name={card.name}\n                img={card.link}\n                likes={card.likes}\n                key={card._id}\n                id={card._id}\n                onCardClick={props.onCardClick}\n                isOwn={card.owner}\n                onCardLike={props.onCardLike}\n                onCardDelete={props.onCardDelete}\n              />)\n            )\n          }\n        </section>\n    </main>\n  )\n}\n\nexport default Main\n","import React from 'react'\n\nfunction ImagePopup({card, onClose}) {\n  function createAltImg(specialWord) {\n    return 'Изображение места: \"'+specialWord+'\"'\n  }\n\n  return (\n    <div id=\"popup-img\" className={ card.name ? 'popup-img popup popup_open' : 'popup-img popup'}>\n      <div className=\"popup-img__container\">\n        <img className=\"popup-img__img\" alt={createAltImg(card.name)} src={card.img} />\n        <p className=\"popup-img__title\">{card.name}</p>\n        <button id=\"popup-img__close\" className=\"popup__close\" onClick={onClose}></button>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup\n","class Api {\n  constructor() {\n    this._me = '/users/me'\n    this._ava ='/users/me/avatar'\n    this._cards = '/cards'\n    this._likes = '/likes'\n    if (process.env.REACT_APP_PUBLIC_URL) {\n      this._url = 'http://localhost:3000'\n    } else {\n      this._url = 'https://api.good.nomoredomains.xyz'\n    }\n    console.log('api ', this._url)\n  }\n\n  _getResponseData(res) {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка: ${res.status}`)\n    }\n    return res.json()\n  }\n\n  getUserInfo() {\n    return fetch(this._url+this._me, {\n      headers: {\n        authorization: 'Bearer '+localStorage.jwt\n      }\n    })\n    .then(\n      (res) => {\n        return this._getResponseData(res)\n      }\n    )\n  }\n\n  getCardsFromServer() {\n    return fetch(this._url+this._cards, {\n        headers: {\n          authorization: 'Bearer '+localStorage.jwt\n        }\n    })\n    .then((res) => {\n        return this._getResponseData(res)\n    })\n  }\n\n  changeAvatar(link) {\n    return fetch(this._url+this._ava, {\n      method: 'PATCH',\n      headers: {\n        authorization: 'Bearer '+localStorage.jwt,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar: link.link\n      })\n    })\n    .then((res) => this._getResponseData(res))\n  }\n\n  loadProfile(obj) {\n    return fetch(this._url+this._me, {\n      method: 'PATCH',\n      headers: {\n        authorization: 'Bearer '+localStorage.jwt,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: obj.name,\n        about: obj.about,\n      })\n    }).then(\n      (res) => this._getResponseData(res)\n    )\n  }\n\n  loadNewCard(obj) {\n    return fetch(this._url+this._cards, {\n      method: 'POST',\n      headers: {\n        authorization: 'Bearer '+localStorage.jwt,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: obj.name,\n        link: obj.link,\n      })\n    }).then(\n      (res) => this._getResponseData(res)\n    )\n  }\n\n  delCard(id) {\n    return fetch(this._url+this._cards+'/'+id, {\n      method: 'DELETE',\n      headers: {\n          authorization: 'Bearer '+localStorage.jwt\n        }\n      }).then(\n        (res) => this._getResponseData(res)\n      )\n  }\n\n  changeLikeCardStatus(id, method) {\n    return fetch(this._url+this._cards+'/'+id+this._likes, {\n      method: method,\n      headers: {\n        authorization: 'Bearer '+localStorage.jwt\n      }\n    })\n    .then(\n      (res) => this._getResponseData(res)\n    )\n\n    .then( (res) => {\n      return res.data\n    })\n  }\n}\n\nconst api = new Api()\nexport default api\n","export default __webpack_public_path__ + \"static/media/logo.eaca1122.png\";","import React from \"react\";\n\nfunction PopupWithForm(props) {\n  return (\n    <div\n      id={`popup-${props.name}`}\n      className={props.isOpen ? \"popup popup_open\" : \"popup\"}\n    >\n      <div className={`popup-${props.name}__container popup__container`}>\n        <button\n          id={`popup-${props.name}__close`}\n          onClick={props.onClose}\n          className=\"popup__close\"\n          type=\"button\"\n        ></button>\n        <p className={`popup-${props.name}__title`}>{`${props.textTitle}`}</p>\n        <form\n          onSubmit={props.onSubmit}\n          name={`${props.name}`}\n          className={`popup-${props.name}__form popup__form`}\n        >\n          {props.children}\n          <button\n            id={`popup-${props.name}__save`}\n            className={`popup__save`}\n            type=\"submit\"\n          >\n            {`${props.textButton}`}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction EditProfilePopup(props) {\n  const currenUser = React.useContext(CurrentUserContext)\n  const [name, setName] = React.useState(currenUser.name)\n  const [about, setAbout] = React.useState(currenUser.about)\n\n  React.useEffect( () => {\n    setName(currenUser.name)\n    setAbout(currenUser.about)\n  }, [currenUser, props.isOpen])\n\n  function handleChangeName(e) {\n    setName(e.target.value)\n  }\n\n  function handleChangeDiscr(e) {\n    setAbout(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    props.onUpdateUser({\n      name,\n      about,\n    })\n  }\n\n  return (\n    <PopupWithForm\n      name={'edit'}\n      textTitle={`Редактировать профиль`}\n      textButton={`Сохранить`}\n      onClose={props.onClose}\n      isOpen={props.isOpen}\n      onSubmit={handleSubmit}\n    >\n      <input\n        value={name}\n        onChange={handleChangeName}\n        id=\"input-profile-title\"\n        className=\"popup__input\"\n        name=\"name\"\n        type=\"text\"\n        placeholder=\"Имя\"\n        required\n        minLength=\"2\"\n        maxLength=\"40\"\n      />\n      <span id=\"input-profile-title-error\" className=\"popup__error\"></span>\n      <input\n        value={about}\n        onChange={handleChangeDiscr}\n        id=\"input-profile-subtitle\"\n        className=\"popup__input\"\n        name=\"about\"\n        type=\"text\"\n        placeholder=\"О себе\"\n        required\n        minLength=\"2\"\n        maxLength=\"200\"\n      />\n      <span id=\"input-profile-subtitle-error\" className=\"popup__error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = React.useRef()\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    props.onUpdateAvarar({\n      link: avatarRef.current.value\n    })\n  }\n\n  return (\n    <PopupWithForm\n      onSubmit={handleSubmit}\n      name={'avatar'}\n      isOpen={ props.isOpen }\n      textTitle={`Обновить аватар`}\n      textButton={`Сохранить`}\n      onClose={ props.onClose }\n    >\n      <input\n        ref={avatarRef}\n        id=\"popup-avatar-link\"\n        className=\"popup__input\"\n        name=\"link\"\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        required\n      />\n      <span id=\"popup-avatar-link-error\" className=\"popup__error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction AddPlacePopup(props) {\n  const [place, setPlace] = React.useState('')\n  const [linkPlace, setLinkPlace] = React.useState('')\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    props.onAddNewPlace({\n      place,\n      linkPlace\n    })\n    setPlace('')\n    setLinkPlace('')\n  }\n\n  function handleChangePlace(e) {\n    setPlace(e.target.value);\n  }\n\n  function handleChangeLinkPlace(e) {\n    setLinkPlace(e.target.value)\n  }\n\n  return (\n    <PopupWithForm\n      onSubmit={handleSubmit}\n      name={'add'}\n      isOpen={props.isOpen}\n      textTitle={`Новое место`}\n      textButton={`Создать`}\n      onClose={props.onClose}\n    >\n      <input\n        value={place}\n        onChange={handleChangePlace}\n        id=\"popup-add-title\"\n        className=\"popup__input\"\n        name=\"name\"\n        type=\"text\"\n        placeholder=\"Название\"\n        minLength=\"2\"\n        maxLength=\"30\"\n        required\n      />\n      <span id=\"popup-add-title-error\" className=\"popup__error\"></span>\n      <input\n        value={linkPlace}\n        onChange={handleChangeLinkPlace}\n        id=\"popup-add-link\"\n        className=\"popup__input\"\n        name=\"link\"\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        required\n      />\n      <span id=\"popup-add-link-error\" className=\"popup__error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup\n","import React from 'react'\nimport Main from './Main'\nimport ImagePopup from './ImagePopup'\nimport api from '../utils/api'\n//import profileImg from '../images/load.gif' // переменная должна быть в camelCase\nimport profileImg from '../images/logo.png'\nimport CurrentUserContext from '../contexts/CurrentUserContext'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\n\n\nfunction App() {\n  const [currentUser, setCurrentUser] = React.useState({\n    name: 'Загрузка...',\n    about: 'Загрузка...',\n    avatar: profileImg\n  })\n\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false)\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false)\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false)\n\n  const [cards, setCards] = React.useState([])\n\n  const [selectedCard, setSelectedCard] = React.useState({\n    name: '',\n    img:  '',\n  })\n\n  React.useEffect(() => { /* new */\n      const closeByEscape = (e) => {\n        if (e.key === 'Escape') {\n          closeAllPopups();\n        }\n      }\n\n      document.addEventListener('keydown', closeByEscape)\n\n      return () => document.removeEventListener('keydown', closeByEscape)\n  }, [])\n\n  React.useEffect( () => {\n    Promise.all([\n      api.getCardsFromServer(), // only test\n      api.getUserInfo() // only test\n    ])\n    .then( ([initialCards, userData]) => {\n      setCards(initialCards.data) // only test\n      setCurrentUser(userData.data) // only test\n    })\n    .catch(\n      (err) => {\n        console.log('1 Ошибка ===> ', err)\n      }\n    )\n  }, [])\n\n  function handleCardLikeDislike(card) {\n    const isLiked = card.likes.some( (i) => {\n      return i === currentUser._id\n    })\n    let method\n    if (isLiked) {\n      method = \"DELETE\"\n    } else {\n      method = 'PUT'\n    }\n    api.changeLikeCardStatus(card.id, method).then( (newCard) => {\n      setCards( (cards) => cards.map( (c) => c._id === card.id ? newCard : c))\n    }).catch(\n      (err) => {\n        console.log('3 Ошибка ===> ', err)\n      }\n    )\n  }\n\n  function handleCardDelete(card) {\n    api.delCard(card.id).then( (newCard) => {\n      const newArrCards = cards.filter( c => {\n        return c._id !== card.id\n      } )\n      setCards(newArrCards)\n    }).catch(\n      (err) => {\n        console.log('5 Ошибка ===> ', err)\n      }\n    )\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true)\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true)\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true)\n  }\n\n  function handleCardClick(props) {\n    setSelectedCard({\n      name: props.name,\n      img: props.img,\n    })\n  }\n\n  function closeAllPopups() {\n    setEditAvatarPopupOpen(false)\n    setEditProfilePopupOpen(false)\n    setAddPlacePopupOpen(false)\n\n    setSelectedCard({\n      name: '',\n      img: '',\n    })\n  }\n\n  function handleAddPlaceSubmit(e) {\n    api.loadNewCard({\n      name: e.place,\n      link: e.linkPlace\n    }).then( (res) => {\n      setCards( [res.data, ...cards] )\n      closeAllPopups()\n    }).catch(\n      (err) => {\n        console.log('6 Ошибка ===> ', err)\n      }\n    )\n  }\n\n  function handleUpdaterUser(e) {\n    api.loadProfile(e).then( (res) => {\n      setCurrentUser(res)\n      closeAllPopups()\n    }).catch(\n      (err) => {\n        console.log('7 Ошибка ===> ', err)\n      }\n    )\n  }\n\n  function handleUpdateAvatar(e) {\n    api.changeAvatar(e).then( (res) => {\n      setCurrentUser(res)\n      closeAllPopups()\n    }).catch(\n      (err) => {\n        console.log('8 Ошибка ===> ', err)\n      }\n    )\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Main\n        cards={cards}\n        onEditAvatar={handleEditAvatarClick}\n        onEditProfile={handleEditProfileClick}\n        onAddPlace={handleAddPlaceClick}\n        onCardClick={handleCardClick}\n        onCardLike={handleCardLikeDislike}\n        onCardDelete={handleCardDelete}\n      />\n\n      <EditAvatarPopup\n        onUpdateAvarar={handleUpdateAvatar}\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n      />\n\n      <EditProfilePopup\n        onUpdateUser={handleUpdaterUser}\n        isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n      />\n\n      <AddPlacePopup\n        onAddNewPlace={handleAddPlaceSubmit}\n        isOpen={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n      />\n\n      <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n    </CurrentUserContext.Provider>\n  )\n}\n\nexport default App\n","function Footer() {\n  return (\n      <footer className=\"footer\">\n        <p className=\"footer__title\">© {new Date().getFullYear()} Mesto Russia</p>\n      </footer>\n  )\n}\n\nexport default Footer;\n","import React from 'react'\n\nfunction Login(props) {\n  const [login, setLogin] = React.useState('')\n  const [pass, setPass] = React.useState('')\n\n  function handleChangeLogin(e) {\n    setLogin(e.target.value)\n  }\n\n  function handleChangePass(e) {\n    setPass(e.target.value)\n  }\n\n  function handleLoginClick(e) {\n    e.preventDefault()\n    props.onLoginClick({\n      identifier: login,\n      password: pass,\n    })\n  }\n\n  return (\n    <div className=\"enter__container\">\n      <h1 className=\"enter__title\">Вход</h1>\n      <form\n        className=\"enter__form\"\n        action=\"index.html\"\n        method=\"post\"\n        name=\"login\"\n        onSubmit={handleLoginClick}\n      >\n        <input\n          value={login}\n          onChange={handleChangeLogin}\n          className=\"enter__input\"\n          name=\"name\"\n          type=\"text\"\n          placeholder=\"Email\"\n          required\n        />\n        <input\n          value={pass}\n          onChange={handleChangePass}\n          className=\"enter__input\"\n          name=\"about\"\n          type=\"password\"\n          placeholder=\"Пароль\"\n          required\n        />\n        <button\n          className=\"enter__save\"\n          type=\"submit\"\n        >\n          Войти\n        </button>\n      </form>\n    </div>\n  )\n}\n\nexport default Login;\n","import React from 'react'\n\nfunction Register(props) {\n  const [login, setLogin] = React.useState('')\n  const [pass, setPass] = React.useState('')\n\n  function handleRegClick(e) {\n    e.preventDefault()\n    props.onRegClick({\n      identifier: login,\n      password: pass,\n    })\n  }\n\n  function handleChangeLogin(e) {\n    setLogin(e.target.value)\n  }\n\n  function handleChangePass(e) {\n    setPass(e.target.value)\n  }\n\n\n  return (\n    <div className=\"enter__container\">\n\n      <h1 className=\"enter__title\">Регистрация</h1>\n      <form\n        className=\"enter__form\"\n        action=\"index.html\"\n        method=\"post\"\n        name=\"reg\"\n        onSubmit={handleRegClick}\n      >\n        <input\n          value={login}\n          onChange={handleChangeLogin}\n          className=\"enter__input\"\n          name=\"name\"\n          type=\"text\"\n          placeholder=\"Email\"\n          required\n        />\n        <input\n          value={pass}\n          onChange={handleChangePass}\n          className=\"enter__input\"\n          name=\"about\"\n          type=\"password\"\n          placeholder=\"Пароль\"\n          required\n        />\n        <button\n          className=\"enter__save\"\n          type=\"submit\"\n        >\n          Зарегистрироваться\n        </button>\n      </form>\n      <div className='enter__field'>\n        <h2 className=\"enter__subtitle\">\n          Уже зарегистрированы?\n        </h2>\n        <a className=\"enter__link\" href='/sign-in'>\n          Войти\n        </a>\n      </div>\n\n    </div>\n  )\n}\n\nexport default Register;\n","export default __webpack_public_path__ + \"static/media/enter_on.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/enter_off.7c6a020b.svg\";","import React from \"react\";\nimport on from '../images/enter_on.svg'\nimport off from '../images/enter_off.svg'\n\nfunction InfoTooltip(props) {\n\n  return (\n    <div\n      className={props.isOpen ? \"popup popup_open\" : \"popup\"}\n    >\n      <div className=\"popup__container\">\n        <button\n          className=\"popup__close\"\n          type=\"button\"\n          onClick={props.onClose}\n        ></button>\n        <img className=\"popup__img\" src={props.res ? on : off} alt={props.alt} />\n        <p className=\"popup__subtitle\">{props.title}</p>\n      </div>\n    </div>\n  )\n}\n\nexport default InfoTooltip\n","export let BASE_URL\nif (process.env.REACT_APP_PUBLIC_URL) {\n  BASE_URL = 'http://localhost:3000'\n} else {\n  BASE_URL = 'https://api.good.nomoredomains.xyz'\n}\nconsole.log('auth', BASE_URL)\n\nexport const getResponseData = (res) => {\n  if (!res.ok) {\n    return Promise.reject(`Auth-Ошибка: ${res.status}`)\n  }\n  return res.json()\n}\n\nexport const authorize = (data) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      password: data.password,\n      email: data.identifier,\n    })\n  })\n  .then((res) => {\n    return getResponseData(res)\n  })\n}\n\nexport const regg = (data) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      'password': data.password,\n      'email': data.identifier\n    })\n  })\n  .then((res) => getResponseData(res))\n}\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`,\n    }\n  })\n  .then((res) => getResponseData(res))\n}\n","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = (data) => {\n  const Component = () => { // а еще короче это записать можно?\n    return (\n      data.component.props.children\n    )\n  }\n\n  return (\n    <Route>\n      {\n        () => data.loggedIn === true ? <Component {...data} /> : <Redirect to=\"/sign-in\" />\n      }\n    </Route>\n  )\n}\n\nexport default ProtectedRoute;\n","import React from 'react'\nimport { Route, Switch, Redirect, useHistory} from 'react-router-dom'\nimport Header from './Header'\nimport App from './App'\nimport Footer from './Footer'\nimport Login from './Login'\nimport Register from './Register'\nimport InfoTooltip from './InfoTooltip'\nimport ProtectedRoute from './ProtectedRoute'\nimport * as auth from '../utils/Auth';\n\n\nfunction MegaRouter() {\n  const [loggedIn, setLoggedIn] = React.useState(false)\n  const [isInfoOpen, setisInfoOpen] = React.useState(false)\n  const [isTitle, setIsTitle] = React.useState('')\n  const [isAlt, setIsAlt] = React.useState('Изображение информирующее, что всё плохо!')\n  const [isRes, setIsRes] = React.useState(true)\n  const [isEmail, setIsEmail] = React.useState('')\n\n  const history = useHistory()\n\n  function closePopupInfo() {\n    setisInfoOpen(false)\n  }\n\n  const onSignOut = () => {\n    localStorage.removeItem('jwt');\n    setLoggedIn(false);\n    history.push('/login');\n  }\n\n  function handleLoginClick(data) {\n    auth.authorize(data)\n      .then((obj) => {\n        if (obj.token) {\n          setIsEmail(data.identifier)\n          localStorage.setItem('jwt', obj.token)\n          setLoggedIn(true)\n          history.push('/')\n        }\n      })\n      .catch( err => console.log('MR-Ошибка 1: ', err))\n  }\n\n  React.useEffect(() => {\n    tokenCheck()\n  }, [])\n\n  function tokenCheck() {\n    const jwt = localStorage.getItem('jwt')\n\n    if (jwt){\n      auth.getContent(jwt)\n        .then( (res) => {\n          if (res.email) {\n            setLoggedIn(true)\n            history.push('/')\n          }\n        })\n        .catch( err => console.log('MR-Ошибка 2: ', err))\n    }\n  }\n\n  function handleRegClick(data) {\n    auth.regg(data)\n      .then(obj => {\n        setIsRes(true)\n        setIsTitle('Вы успешно зарегистрировались!')\n        setIsAlt('Изображение информирующее, что всё хорошо!')\n        setisInfoOpen(true)\n      })\n      .catch( err => {\n        setIsRes(false)\n        setIsTitle('Что-то пошло не так! Попробуйте ещё раз.')\n        setIsAlt('Изображение информирующее, что всё плохо!')\n        setisInfoOpen(true)\n        console.log('MR-Ошибка 3: ', err)\n      })\n  }\n\n  return (\n    <div className='page'>\n      <Switch>\n        <Route path=\"/sign-in\">\n            <Header title='Регистрация' link='/sign-up' />\n            <Login onLoginClick={handleLoginClick}/>\n          </Route>\n        <Route path=\"/sign-up\">\n            <Header title='Войти' link='/sign-in' />\n            <Register onRegClick={handleRegClick}/>\n            <InfoTooltip\n              isOpen={isInfoOpen}\n              title={isTitle}\n              alt={isAlt}\n              res={isRes}\n              onClose={closePopupInfo}\n            />\n        </Route>\n        <ProtectedRoute\n          path=\"/\"\n          loggedIn={loggedIn}\n          component={\n            <>\n              <Header\n                email={isEmail}\n                onSignOut={onSignOut}\n              />\n              <App />\n              <Footer />\n            </>\n          }\n        />\n        <Route>\n          {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n        </Route>\n      </Switch>\n    </div>\n  )\n}\n\nexport default MegaRouter\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport reportWebVitals from './reportWebVitals'\nimport MegaRouter from './components/MegaRouter'\nimport { BrowserRouter } from 'react-router-dom'\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter >\n      <div className='page'>\n        <MegaRouter />\n      </div>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}